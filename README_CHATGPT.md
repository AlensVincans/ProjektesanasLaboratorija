# ChatGPT Integration Setup Guide

## 1. Install dependencies

```bash
pip install -r requirements.txt
```

## 2. Configure OpenAI API key

### Option 1: Environment variable (recommended)
```bash
export OPENAI_API_KEY="your-openai-api-key-here"
```

### Option 2: .env file
Create a `.env` file inside the `prod/` folder:
```
OPENAI_API_KEY=your-openai-api-key-here
```

## 3. Get an API key

1. Go to https://platform.openai.com/
2. Sign in or create an account
3. Open the “API Keys” section
4. Create a new API key
5. Copy the key and store it securely

## 4. Testing

```bash
cd prod
python3 test_meal_plan.py
```

## 5. Using the API

### Diet optimization endpoint:
```
POST http://localhost:5001/optimize
```

### Meal plan endpoint:
```
POST http://localhost:5001/meal-plan
```

### Example request:
```json
{
  "gender": "male",
  "weight": 70,
  "height": 175,
  "age": 30,
  "activity": "moderate",
  "period": "day",
  "allergens": []
}
```

### Example response:
```json
{
  "diet": {
    "Cukurs": 158.33,
    "Govs piens": 500.0,
    "Kartupeli": 200.0
  },
  "total_cost": 16.22,
  "nutrient_totals": {"...": "..."},
  "norms": {"...": "..."},
  "period": "day",
  "status": "Optimal",
  "meal_plan": "Detailed meal plan generated by ChatGPT..."
}
```

## 6. Run the server

```bash
cd prod
python3 app.py
```

Server will be available at: http://localhost:5001
